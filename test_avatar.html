<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ì•„ë°”íƒ€ ìƒì„± í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .avatar-container {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        .avatar-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
        }
        .avatar-card h3 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .avatar-image {
            border: 2px solid #ddd;
            border-radius: 4px;
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
            width: 128px;
            height: 128px;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
        }
        button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <h1>ğŸ¨ AI ì•„ë°”íƒ€ ìƒì„± í…ŒìŠ¤íŠ¸</h1>
    <p>ë‹¤ì–‘í•œ AI ì—ì´ì „íŠ¸ì˜ í”½ì…€ì•„íŠ¸ ì•„ë°”íƒ€ë¥¼ ìƒì„±í•´ë³´ì„¸ìš”!</p>
    
    <button onclick="generateTestAvatars()">ì•„ë°”íƒ€ ìƒì„±í•˜ê¸°</button>
    <button onclick="clearAvatars()">ì´ˆê¸°í™”</button>
    
    <div class="avatar-container" id="avatarContainer"></div>

    <script>
        // ì•„ë°”íƒ€ íŠ¹ì§• ì •ì˜ (mainì—ì„œ ë³µì‚¬)
        const avatarTraits = {
            angel: {
                baseColor: '#FFD700',
                secondaryColor: '#FFF8DC',
                features: {
                    expression: 'happy',
                    halo: true,
                    wings: true,
                    glasses: false,
                    horns: false,
                    tail: false,
                    bodyType: 'robe'
                }
            },
            devil: {
                baseColor: '#DC143C',
                secondaryColor: '#8B0000',
                features: {
                    expression: 'mischievous',
                    halo: false,
                    wings: false,
                    glasses: false,
                    horns: true,
                    tail: true,
                    bodyType: 'casual'
                }
            },
            writer: {
                baseColor: '#4169E1',
                secondaryColor: '#87CEEB',
                features: {
                    expression: 'thoughtful',
                    halo: false,
                    wings: false,
                    glasses: true,
                    horns: false,
                    tail: false,
                    bodyType: 'formal'
                }
            },
            analyzer: {
                baseColor: '#32CD32',
                secondaryColor: '#90EE90',
                features: {
                    expression: 'focused',
                    halo: false,
                    wings: false,
                    glasses: true,
                    horns: false,
                    tail: false,
                    bodyType: 'formal'
                }
            },
            searcher: {
                baseColor: '#FF8C00',
                secondaryColor: '#FFE4B5',
                features: {
                    expression: 'curious',
                    halo: false,
                    wings: false,
                    glasses: false,
                    horns: false,
                    tail: false,
                    bodyType: 'casual'
                }
            },
            organizer: {
                baseColor: '#9370DB',
                secondaryColor: '#DDA0DD',
                features: {
                    expression: 'confident',
                    halo: false,
                    wings: false,
                    glasses: false,
                    horns: false,
                    tail: false,
                    bodyType: 'formal'
                }
            }
        };

        // í”½ì…€ì•„íŠ¸ ìƒì„± í•¨ìˆ˜ (mainì—ì„œ ë³µì‚¬)
        function generatePixelAvatar(agentName, agentRole, customPersona = null) {
            const canvas = document.createElement('canvas');
            canvas.width = 64;
            canvas.height = 64;
            const ctx = canvas.getContext('2d');
            
            // í”½ì…€ ë‹¨ìœ„
            const pixelSize = 4;
            
            // ê¸°ë³¸ ìƒ‰ìƒ ë° íŠ¹ì§• ê°€ì ¸ì˜¤ê¸°
            const traits = avatarTraits[agentRole] || avatarTraits.searcher;
            const baseColor = traits.baseColor;
            const secondaryColor = traits.secondaryColor;
            const features = traits.features;
            
            // ì»¤ìŠ¤í…€ í˜ë¥´ì†Œë‚˜ ê¸°ë°˜ ìƒ‰ìƒ ë³€í˜•
            if (customPersona) {
                if (customPersona.includes('ì—´ì •') || customPersona.includes('ëœ¨ê±°ìš´')) {
                    traits.baseColor = '#FF6B6B';
                } else if (customPersona.includes('ì°¨ë¶„') || customPersona.includes('ëƒ‰ì² ')) {
                    traits.baseColor = '#4ECDC4';
                } else if (customPersona.includes('ì§€í˜œ') || customPersona.includes('í˜„ëª…')) {
                    traits.baseColor = '#95E1D3';
                }
            }
            
            // ë°°ê²½ íˆ¬ëª…
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // í”½ì…€ ê·¸ë¦¬ê¸° í—¬í¼ í•¨ìˆ˜
            function drawPixel(x, y, color) {
                ctx.fillStyle = color;
                ctx.fillRect(x * pixelSize, y * pixelSize, pixelSize, pixelSize);
            }
            
            // ë¨¸ë¦¬ ê·¸ë¦¬ê¸°
            const headPattern = [
                [0,0,1,1,1,1,0,0],
                [0,1,1,1,1,1,1,0],
                [1,1,1,1,1,1,1,1],
                [1,1,1,1,1,1,1,1],
                [1,1,1,1,1,1,1,1],
                [1,1,1,1,1,1,1,1],
                [0,1,1,1,1,1,1,0],
                [0,0,1,1,1,1,0,0]
            ];
            
            // ë¨¸ë¦¬ ë Œë”ë§
            for (let y = 0; y < headPattern.length; y++) {
                for (let x = 0; x < headPattern[y].length; x++) {
                    if (headPattern[y][x]) {
                        drawPixel(x + 4, y + 2, baseColor);
                    }
                }
            }
            
            // ëˆˆ ê·¸ë¦¬ê¸°
            drawPixel(6, 5, '#000000');
            drawPixel(9, 5, '#000000');
            
            // í‘œì •ì— ë”°ë¥¸ ì… ê·¸ë¦¬ê¸°
            if (features.expression === 'happy') {
                drawPixel(6, 7, '#000000');
                drawPixel(7, 8, '#000000');
                drawPixel(8, 8, '#000000');
                drawPixel(9, 7, '#000000');
            } else if (features.expression === 'mischievous') {
                drawPixel(6, 7, '#000000');
                drawPixel(7, 7, '#000000');
                drawPixel(8, 7, '#000000');
                drawPixel(9, 8, '#000000');
            } else {
                drawPixel(6, 7, '#000000');
                drawPixel(7, 7, '#000000');
                drawPixel(8, 7, '#000000');
                drawPixel(9, 7, '#000000');
            }
            
            // íŠ¹ì§•ë³„ ì¶”ê°€ ìš”ì†Œ
            if (features.halo) {
                // í›„ê´‘ ê·¸ë¦¬ê¸°
                for (let x = 5; x < 11; x++) {
                    drawPixel(x, 0, '#FFFF00');
                }
            }
            
            if (features.horns) {
                // ë¿” ê·¸ë¦¬ê¸°
                drawPixel(5, 1, secondaryColor);
                drawPixel(4, 0, secondaryColor);
                drawPixel(10, 1, secondaryColor);
                drawPixel(11, 0, secondaryColor);
            }
            
            if (features.glasses) {
                // ì•ˆê²½ ê·¸ë¦¬ê¸°
                drawPixel(5, 5, '#333333');
                drawPixel(6, 5, '#333333');
                drawPixel(7, 5, '#333333');
                drawPixel(8, 5, '#333333');
                drawPixel(9, 5, '#333333');
                drawPixel(10, 5, '#333333');
            }
            
            // ëª¸í†µ ê·¸ë¦¬ê¸°
            const bodyPattern = [
                [0,0,1,1,1,1,0,0],
                [0,1,1,1,1,1,1,0],
                [1,1,1,1,1,1,1,1],
                [1,1,1,1,1,1,1,1],
                [1,1,1,1,1,1,1,1],
                [1,1,1,1,1,1,1,1]
            ];
            
            for (let y = 0; y < bodyPattern.length; y++) {
                for (let x = 0; x < bodyPattern[y].length; x++) {
                    if (bodyPattern[y][x]) {
                        drawPixel(x + 4, y + 10, secondaryColor);
                    }
                }
            }
            
            if (features.wings) {
                // ë‚ ê°œ ê·¸ë¦¬ê¸°
                for (let y = 10; y < 14; y++) {
                    drawPixel(2, y, '#FFFFFF');
                    drawPixel(3, y, '#FFFFFF');
                    drawPixel(12, y, '#FFFFFF');
                    drawPixel(13, y, '#FFFFFF');
                }
            }
            
            if (features.tail) {
                // ê¼¬ë¦¬ ê·¸ë¦¬ê¸°
                drawPixel(12, 14, secondaryColor);
                drawPixel(13, 15, secondaryColor);
                drawPixel(14, 15, secondaryColor);
                drawPixel(15, 14, secondaryColor);
            }
            
            // ì¶”ê°€ ì•¡ì„¸ì„œë¦¬ (ì—­í• ë³„)
            if (agentRole === 'writer') {
                // íœ ê·¸ë¦¬ê¸°
                drawPixel(14, 12, '#000000');
                drawPixel(15, 13, '#000000');
                drawPixel(16, 14, '#FFD700');
            } else if (agentRole === 'analyzer') {
                // ë‹ë³´ê¸° ê·¸ë¦¬ê¸°
                drawPixel(14, 11, '#000000');
                drawPixel(15, 12, '#000000');
                drawPixel(16, 13, '#000000');
            }
            
            return canvas.toDataURL();
        }

        // í…ŒìŠ¤íŠ¸ ì•„ë°”íƒ€ ìƒì„±
        function generateTestAvatars() {
            const container = document.getElementById('avatarContainer');
            container.innerHTML = '';
            
            const agents = [
                { name: 'í¬ë§ì²œì‚¬', role: 'angel', persona: 'ê¸ì •ì ì´ê³  í¬ë§ì°¬ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ëŠ” ì²œì‚¬' },
                { name: 'ë„ì „ì•…ë§ˆ', role: 'devil', persona: 'ë„ì „ì ì´ê³  ë°˜ë°•í•˜ëŠ” ì•…ë§ˆ' },
                { name: 'ê¸ì •ì‘ê°€', role: 'writer', persona: 'ì°½ì˜ì ì´ê³  ì§€í˜œë¡œìš´ ì‘ê°€' },
                { name: 'ë¹„íŒë¶„ì„ê°€', role: 'analyzer', persona: 'ëƒ‰ì² í•˜ê³  ë¶„ì„ì ì¸ ì „ë¬¸ê°€' },
                { name: 'íƒìƒ‰ì', role: 'searcher', persona: 'í˜¸ê¸°ì‹¬ ë§ì€ íƒìƒ‰ì' },
                { name: 'ì§„í–‰ì', role: 'organizer', persona: 'ì°¨ë¶„í•˜ê³  ê³µì •í•œ ì§„í–‰ì' }
            ];
            
            agents.forEach(agent => {
                const avatarUrl = generatePixelAvatar(agent.name, agent.role, agent.persona);
                
                const card = document.createElement('div');
                card.className = 'avatar-card';
                card.innerHTML = `
                    <h3>${agent.name}</h3>
                    <img src="${avatarUrl}" alt="${agent.name}" class="avatar-image">
                    <p><strong>ì—­í• :</strong> ${agent.role}</p>
                    <p><strong>í˜ë¥´ì†Œë‚˜:</strong> ${agent.persona}</p>
                `;
                
                container.appendChild(card);
            });
        }

        function clearAvatars() {
            document.getElementById('avatarContainer').innerHTML = '';
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ìƒì„±
        window.onload = function() {
            generateTestAvatars();
        };
    </script>
</body>
</html>